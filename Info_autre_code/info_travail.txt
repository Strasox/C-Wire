./Programme/c-wire.sh Programme/input/c-wire_v00.dat hvb comp


Votre travail est de filtrer et traiter ces données au moyen d’un script
shell (partie filtrage) et d’un programme C (partie traitement/calcul).

Chaque poste LV est relié à une seule station HV-A, chaque station HV-A
est reliée à une seule station HV-B, et chaque station HV-B est reliée à
une seule centrale. Il y a plusieurs centrales.
➢ Dans l’intégralité des données à disposition, nous avons :
• 5 centrales
• ~118 sous-stations HV-B
• ~512 sous-stations HV-A
• +180k postes LV
• +1.25M consommateurs (entreprises)
• +7.6M consommateurs (particuliers)

Le fichier de données est un fichier CSV contenant les noms de colonnes
suivants :
▪ Power plant : identifiant d’une centrale électrique
(producteur)
▪ HV-B Station : identifiant d’une station HV-B
▪ HV-A Station : identifiant d’une station HV-A
▪ LV Station : identifiant d’un poste LV
▪ Company : identifiant d’une entreprise (consommateur)
▪ Individual : identifiant d’un particulier (consommateur)
▪ Capacity : quantité d’énergie produite par une centrale ou
transférée par une station HV-B, HV-A ou LV (en kWh)
▪ Load : quantité d’énergie consommée par le consommateur
final entreprise ou particulier (en kWh)



Enoncé: ce qui est fait à été supprimer

SCRIPT SHELL ➢ 

◦ Identifiant de centrale :
• filtre les résultats pour une centrale spécifique
• si cette option est absente, les traitements seront
effectués sur toutes les centrales du fichier

◦ Option d’aide (-h) :
• affiche une aide détaillée sur l’utilisation du script
(description, fonctionnalités, options possibles, ordre des
paramètres, etc…)



➢ Le script SHELL doit s’assurer que toutes les options obligatoires sont
présentes, et que leurs valeurs sont cohérentes, avant de lancer un
traitement. En cas de mauvaises options, un message d’erreur doit
s’afficher avec le détail de l’erreur. En plus du message d’erreur, l’aide doit
aussi s’afficher en dessous, comme si l’utilisateur avait tapé l’option -h
➢ Le script Shell devra vérifier la présence de l’exécutable C sur le disque
dur et, si ce dernier n’est pas présent, devra lancer la compilation et
vérifier que cette dernière s’est bien déroulée. Si ce n’est pas le cas, un
message d’erreur doit être affiché. Une fois la compilation effectuée il
pourra effectuer le traitement demandé en argument.
➢ Le script Shell vérifiera la présence du dossier tmp et graphs (cf.
Informations Complémentaires) : si ces derniers n’existent pas il devra les
créer. Si le dossier tmp existe déjà, il devra le vider avant l’exécution des
traitements.
➢ La durée de chaque traitement à effectuer devra être affichée en
secondes à la fin. Peu importe si le script s’est déroulé correctement ou a
rencontré une erreur, les durées devront être affichées
systématiquement. Les durées ne comprendront pas la phase de
compilation du programme C ou la création des dossiers effectuée au
départ. Les temps affichés doivent être des temps utiles de traitement
des données. Si le programme échoue sur les valeurs des paramètres,
aucun traitement n’aura été lancé le temps affiché sera donc de 0.0sec.
➢ Une fois les traitements de données terminés, le script Shell devra créer
des fichiers et/ou des graphiques qui contiendront les données de sortie
du traitement. Pour les graphiques vous pourrez utiliser le programme
GnuPlot (cf. Bonus).
➢ Lorsque le script demande un type de station (hvb, hva, lv), le but final
sera de créer un fichier contenant une liste de ces stations avec la valeur
de capacité (la quantité d’énergie qu’elle peut laisser passer) et la somme
des consommateurs branchés directement dessus.
➢ La somme des consommateurs ne tiendra compte que de ceux qui sont
demandés (comp : entreprises uniquement, indiv : particuliers
uniquement, all : tous les consommateurs).
➢ Pour avoir la somme des consommateurs d’une station, il va falloir
construire un arbre de recherche binaire équilibré. Ceci est le rôle de la
partie de votre projet en C. Ce traitement (la somme) doit être fait avec
le programme C obligatoirement. Si votre script effectue tout ou partie
de cette somme dans le script Shell, votre note sera pénalisée.